{"version":3,"file":"static/js/234.e30c10e9.chunk.js","mappings":"mLACA,EAAyB,uB,SCEZA,EAAS,WACpB,OACE,gBAAKC,UAAWC,EAAhB,UACE,SAAC,KAAD,CACEC,OAAO,MACPC,MAAM,MACNC,MAAM,UACNC,aAAc,CAAC,EACfC,aAAa,GACbC,SAAS,EACTC,UAAU,yBACVC,iBAAiB,GACjBC,iBAAiB,GACjBC,kBAAkB,MAIzB,C,+ICnBD,EAAuB,sBAAvB,EAAoD,sBAApD,EAAiF,sBAAjF,EAA+G,uBAA/G,EAA6I,sBAA7I,EAA0K,sB,SCKpKC,EACE,OADFA,EAEK,UAFLA,EAGK,UAHLA,EAIG,QAGIC,EAAU,WACrB,OAA8BC,EAAAA,EAAAA,UAAS,IAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KACA,GAA4BF,EAAAA,EAAAA,UAASF,GAArC,eAAOK,EAAP,KAAeC,EAAf,KAGMC,GADSC,EAAAA,EAAAA,MACGC,SAElBC,EAAAA,EAAAA,YAAU,WAAM,wCAEd,8GAEuBC,EAAAA,EAAAA,IAAgBJ,GAFvC,OAEUK,EAFV,OAGIR,EAAWQ,GACXN,EAAUN,GAJd,gDAMIM,EAAUN,GANd,0DAFc,sBACdM,EAAUN,GADI,mCAWda,EAED,GAAE,IAaH,OACE,gCACGR,IAAWL,IACV,cAAGZ,UAAWC,EAAd,4CAGAgB,IAAWL,GAAsBK,IAAWL,KAC5C,SAACb,EAAA,EAAD,IAGDkB,IAAWL,GAAyC,IAAnBG,EAAQW,SACxC,cAAG1B,UAAWC,EAAd,+BAGDgB,IAAWL,IACV,eAAIZ,UAAWC,EAAf,gBACGc,QADH,IACGA,OADH,EACGA,EAASY,KAAI,SAAAC,GAAI,OAChB,gBAAI5B,UAAWC,EAAf,WACE,eAAID,UAAWC,EAAf,SAA0B2B,EAAKC,UAC/B,cAAG7B,UAAWC,EAAd,SAAyB2B,EAAKE,WAC9B,iBAAM9B,UAAWC,EAAjB,UA/BQ8B,EA+BgCH,EAAKI,WAvBhD,IAAIC,KAAKF,GAAMG,eAAe,KAPrB,CACdC,KAAM,UACNC,MAAO,UACPC,IAAK,UACLC,SAAU,aAuB0BV,EAAKT,IA5BzB,IAAAY,CA2BM,QAW3B,C,8LCvEKQ,EAAU,mCAGT,SAAeC,IAAtB,4CAAO,OAAP,oBAAO,sGACkBC,EAAAA,GAAAA,IAAA,uBAAkC,CACvDC,OAAQ,CAAEC,QAASJ,KAFhB,uBACGf,EADH,EACGA,KADH,kBAIEA,EAAKoB,SAJP,kEAOA,SAAeC,EAAtB,iDAAO,OAAP,oBAAO,WAA8BC,EAAOC,GAArC,yFACkBN,EAAAA,GAAAA,IAAA,gBAA2B,CAChDC,OAAQ,CACNC,QAASJ,EACTS,SAAU,QACVD,KAAAA,EACAD,MAAAA,KANC,uBACGtB,EADH,EACGA,KADH,kBASEA,EAAKoB,SATP,kEAYA,SAAeK,EAAtB,+CAAO,OAAP,oBAAO,WAA+B9B,GAA/B,yFACkBsB,EAAAA,GAAAA,IAAA,iBAAoBtB,GAAM,CAC/CuB,OAAQ,CACNC,QAASJ,EACTS,SAAU,WAJT,uBACGxB,EADH,EACGA,KADH,kBAQEA,GARF,kEAWA,SAAe0B,EAAtB,+CAAO,OAAP,oBAAO,WAA4B/B,GAA5B,yFACkBsB,EAAAA,GAAAA,IAAA,iBAAoBtB,EAApB,YAAkC,CACvDuB,OAAQ,CACNC,QAASJ,EACTS,SAAU,WAJT,uBACGxB,EADH,EACGA,KADH,kBAOEA,EAAK2B,MAPP,kEAUA,SAAe5B,EAAtB,+CAAO,OAAP,oBAAO,WAA+BJ,GAA/B,yFACkBsB,EAAAA,GAAAA,IAAA,iBACXtB,EADW,cAGrB,CACEuB,OAAQ,CACNC,QAASJ,EACTS,SAAU,WAPX,uBACGxB,EADH,EACGA,KADH,kBAWEA,EAAKoB,SAXP,kEA1CPH,EAAAA,GAAAA,SAAAA,QAAyB,8B","sources":["webpack://react-homework-template/./src/components/Loader/Loader.module.css?d03f","components/Loader/Loader.jsx","webpack://react-homework-template/./src/components/Reviews/Reviews.module.css?7248","components/Reviews/Reviews.jsx","services/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"Loader\":\"Loader_Loader__wqo9C\"};","import { ThreeCircles } from 'react-loader-spinner';\nimport css from './Loader.module.css';\n\nexport const Loader = () => {\n  return (\n    <div className={css.Loader}>\n      <ThreeCircles\n        height=\"100\"\n        width=\"100\"\n        color=\"#3f51b5\"\n        wrapperStyle={{}}\n        wrapperClass=\"\"\n        visible={true}\n        ariaLabel=\"three-circles-rotating\"\n        outerCircleColor=\"\"\n        innerCircleColor=\"\"\n        middleCircleColor=\"\"\n      />\n    </div>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"List\":\"Reviews_List__nBL+4\",\"Item\":\"Reviews_Item__+uUiw\",\"Name\":\"Reviews_Name__fZ3Xz\",\"Error\":\"Reviews_Error__1mYyn\",\"Text\":\"Reviews_Text__o81lC\",\"Date\":\"Reviews_Date__xaEe7\"};","import { Loader } from 'components/Loader';\nimport { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { getMovieReviews } from 'services/api';\nimport css from './Reviews.module.css';\n\nconst pageStatus = {\n  INIT: 'init',\n  LOADING: 'loading',\n  SUCCESS: 'success',\n  ERROR: 'error',\n};\n\nexport const Reviews = () => {\n  const [reviews, setReviews] = useState([]);\n  const [status, setStatus] = useState(pageStatus.INIT);\n\n  const params = useParams();\n  const id = params.movieId;\n\n  useEffect(() => {\n    setStatus(pageStatus.LOADING);\n    async function getData() {\n      try {\n        const data = await getMovieReviews(id);\n        setReviews(data);\n        setStatus(pageStatus.SUCCESS);\n      } catch (error) {\n        setStatus(pageStatus.ERROR);\n      }\n    }\n    getData();\n    // eslint-disable-next-line\n  }, []);\n\n  const getPostDate = date => {\n    const options = {\n      year: 'numeric',\n      month: 'numeric',\n      day: 'numeric',\n      timezone: 'UTC',\n    };\n\n    return new Date(date).toLocaleString('en', options);\n  };\n\n  return (\n    <>\n      {status === pageStatus.ERROR && (\n        <p className={css.Error}>ERROOOOOOR, REVIEWS NOT FOUND</p>\n      )}\n\n      {(status === pageStatus.LOADING || status === pageStatus.INIT) && (\n        <Loader />\n      )}\n\n      {status === pageStatus.SUCCESS && reviews.length === 0 && (\n        <p className={css.Error}>REVIEWS NOT FOUND</p>\n      )}\n\n      {status === pageStatus.SUCCESS && (\n        <ul className={css.List}>\n          {reviews?.map(item => (\n            <li className={css.Item} key={item.id}>\n              <h3 className={css.Name}>{item.author}</h3>\n              <p className={css.Text}>{item.content}</p>\n              <span className={css.Date}>{getPostDate(item.updated_at)}</span>\n            </li>\n          ))}\n        </ul>\n      )}\n    </>\n  );\n};\n","import axios from 'axios';\n\nconst API_KEY = 'ee23ab55503b4831e257c10a3a06bf9b';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nexport async function getHomeMovies() {\n  const { data } = await axios.get(`/trending/movie/week`, {\n    params: { api_key: API_KEY },\n  });\n  return data.results;\n}\n\nexport async function getMovieByName(query, page) {\n  const { data } = await axios.get(`/search/movie`, {\n    params: {\n      api_key: API_KEY,\n      language: 'en-US',\n      page,\n      query,\n    },\n  });\n  return data.results;\n}\n\nexport async function getMovieDetalis(id) {\n  const { data } = await axios.get(`/movie/${id}`, {\n    params: {\n      api_key: API_KEY,\n      language: 'en-US',\n    },\n  });\n\n  return data;\n}\n\nexport async function getMovieCast(id) {\n  const { data } = await axios.get(`/movie/${id}/credits`, {\n    params: {\n      api_key: API_KEY,\n      language: 'en-US',\n    },\n  });\n  return data.cast;\n}\n\nexport async function getMovieReviews(id) {\n  const { data } = await axios.get(\n    `/movie/${id}/reviews\n`,\n    {\n      params: {\n        api_key: API_KEY,\n        language: 'en-US',\n      },\n    }\n  );\n  return data.results;\n}\n"],"names":["Loader","className","css","height","width","color","wrapperStyle","wrapperClass","visible","ariaLabel","outerCircleColor","innerCircleColor","middleCircleColor","pageStatus","Reviews","useState","reviews","setReviews","status","setStatus","id","useParams","movieId","useEffect","getMovieReviews","data","getData","length","map","item","author","content","date","updated_at","Date","toLocaleString","year","month","day","timezone","API_KEY","getHomeMovies","axios","params","api_key","results","getMovieByName","query","page","language","getMovieDetalis","getMovieCast","cast"],"sourceRoot":""}